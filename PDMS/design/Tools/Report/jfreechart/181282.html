<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xml:lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml"><head>

  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>在struts2中使用JFreeChart - 木子山石 - JavaEye技术网站</title>
    <meta name="description" content="继续上一篇的 在struts2中使用JasperReports，这篇是如何在web页面上输出chart(图表)。  1、在struts2中，默认的struts-default.xml中，并没有包含chart的result-type，它是插件的形式使用的。把 struts2的解压包的lib里找到struts2-jfreechart-plugin-2.0.11.jar，拷贝到你的项目的 classpat ...">
    <meta name="keywords" content="struts2 jfreechart  在struts2中使用JFreeChart">
    <link rel="shortcut icon" href="http://liyanboss.javaeye.com/images/favicon.ico" type="image/x-icon">
    <link href="http://liyanboss.javaeye.com/rss" rel="alternate" title="木子山石" type="application/rss+xml"> 
    <link href="181282_files/blog.css" media="screen" rel="stylesheet" type="text/css">
<link href="181282_files/blue.css" media="screen" rel="stylesheet" type="text/css">
    <script src="181282_files/application.js" type="text/javascript"></script>
      <link href="181282_files/SyntaxHighlighter.css" media="screen" rel="stylesheet" type="text/css">
  <script src="181282_files/shCoreCommon.js" type="text/javascript"></script>
  <style>
    div#main {background-color: transparent; border: 0; padding: 0px; width: 740px;}
  </style>
  <link href="181282_files/ui.css" media="screen" rel="stylesheet" type="text/css">
  <script src="181282_files/compress.js" type="text/javascript"></script>
  <style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style></head><body>
    <div id="header">
      <div id="blog_site_nav">
  <a href="http://www.javaeye.com/" class="homepage">首页</a>
  <a href="http://www.javaeye.com/news">新闻</a>
  <a href="http://www.javaeye.com/forums">论坛</a>
  <a href="http://www.javaeye.com/blogs">博客</a>
  <a href="http://job.javaeye.com/">招聘</a>
  <a href="#" onclick="return false;" id="msna"><u>更多</u> <small>▼</small></a>
  <div class="quick_menu" style="display: none;">
    <a href="http://www.javaeye.com/ask">问答</a>
    <a href="http://www.javaeye.com/wiki">知识库</a>
    <a href="http://www.javaeye.com/groups">圈子</a>
    <a href="http://www.javaeye.com/search">搜索</a>
  </div>
</div>
      <div id="user_nav">
      <a href="http://atealxt.javaeye.com/" class="welcome" title="查看我的博客首页">欢迎 atealxt</a>
    
    
      <a href="http://atealxt.javaeye.com/app/messages" title="发送站内短信">收件箱</a>
    
    <div class="quick_menu" style="display: none;">
      <a href="http://atealxt.javaeye.com/app/messages/new">写新短信</a>
      <a href="http://atealxt.javaeye.com/app/messages">收件箱</a>
      <a href="http://atealxt.javaeye.com/app/messages/sent">发件箱</a>
    </div>
    <a href="http://atealxt.javaeye.com/app/subscriptions" title="查看我的订阅">订 阅</a>
    <div class="quick_menu" style="display: none;">
      <a href="http://atealxt.javaeye.com/app/subscriptions">我的订阅</a>
      <a href="http://atealxt.javaeye.com/app/subscriptions/participation">我的参与</a>
      <a href="http://atealxt.javaeye.com/app/subscriptions/all">全站动态</a>
      <a href="http://atealxt.javaeye.com/app/my_activities">我的回复</a>
      <a href="http://atealxt.javaeye.com/app/my_activities/activities">我的动态</a>
    </div>
    <a href="http://atealxt.javaeye.com/admin" title="管理我的博客">博 客</a>
    
      <a href="http://atealxt.javaeye.com/app/my_groups" title="查看我的圈子">圈 子</a>
    
    <a href="http://atealxt.javaeye.com/admin/profile">设置</a>
    <a href="http://liyanboss.javaeye.com/logout" class="last" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'put'); f.appendChild(m);f.submit();return false;">退出</a>
  </div>



    </div>
    
    <div id="page">
      <div id="branding" class="clearfix">
        <div id="blog_name"><h1><a href="http://liyanboss.javaeye.com/">木子山石</a></h1></div>
        <div id="blog_preview"></div>
        <div id="blog_domain">永久域名 <a href="http://liyanboss.javaeye.com/">http://liyanboss.javaeye.com</a></div>
      </div>
      
      
      <div id="content" class="clearfix">
        <div id="main">
          


          


<div class="blog_main"> 
  <div id="blog_nav">
    
    <div id="pre_next">
      <a href="http://liyanboss.javaeye.com/blog/183400" class="next">struts2+spring2+hibernate3 Annotation的 ...</a>
      |
      <a href="http://liyanboss.javaeye.com/blog/180735" class="pre">在struts2中使用JasperReports</a>
    </div>
  </div>
  <div class="blog_title">
    <div class="date"><span class="year">2008</span><span class="sep_year">-</span><span class="month">04</span><span class="sep_month">-</span><span class="day">10</span></div>
    <h3 class="" title=""><a href="http://liyanboss.javaeye.com/blog/181282">在struts2中使用JFreeChart</a></h3>
        <strong>关键字: struts2 jfreechart</strong>
  </div>

  <div class="blog_content">
    <span style="color: darkblue;">继续上一篇的 <a href="http://liyanboss.javaeye.com/admin/blogs/180735" target="_blank">在struts2中使用JasperReports</a>，这篇是如何在web页面上输出chart(图表)。</span>
<br>
<br>1、在struts2中，默认的struts-default.xml中，并没有包含chart的result-type，它是插件的形式使用
的。把 struts2的解压包的lib里找到struts2-jfreechart-plugin-2.0.11.jar，拷贝到你的项目的
classpath里，同时在struts.xml里面增加一个chart的result-type。 <br><div class="dp-highlighter"><div class="bar"><div class="tools">Java代码 <embed src="181282_files/clipboard_new.swf" flashvars="clipboard=%3Cresult-types%3E%0A%09%3Cresult-type%20name%3D%22chart%22%20class%3D%22org.apache.struts2.dispatcher.ChartResult%22%2F%3E%0A%3C%2Fresult-types%3E%0A%3Caction%20name%3D%22ListAllFruit4Bar2%22%20class%3D%22chart.ListAllFruit4Bar2Action%22%3E%0A%09%3Cresult%20name%3D%22success%22%20type%3D%22chart%22%3E%0A%09%09%3Cparam%20name%3D%22chart%22%3Echart%3C%2Fparam%3E%0A%09%09%3Cparam%20name%3D%22height%22%3E400%3C%2Fparam%3E%0A%09%09%3Cparam%20name%3D%22width%22%3E700%3C%2Fparam%3E%0A%09%3C%2Fresult%3E%0A%3C%2Faction%3E%0A%3Caction%20name%3D%22ListAllFruit4Pie2%22%20class%3D%22chart.ListAllFruit4Pie2Action%22%3E%0A%09%3Cresult%20name%3D%22success%22%20type%3D%22chart%22%3E%0A%09%09%3Cparam%20name%3D%22chart%22%3Echart%3C%2Fparam%3E%0A%09%09%3Cparam%20name%3D%22height%22%3E400%3C%2Fparam%3E%0A%09%09%3Cparam%20name%3D%22width%22%3E700%3C%2Fparam%3E%0A%09%3C%2Fresult%3E%0A%3C%2Faction%3E%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" height="15" width="14"></div></div><ol class="dp-j" start="1"><li><span><span>&lt;result-types&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;result-type&nbsp;name=<span class="string">"chart"</span><span>&nbsp;</span><span class="keyword">class</span><span>=</span><span class="string">"org.apache.struts2.dispatcher.ChartResult"</span><span>/&gt;&nbsp;&nbsp;</span></span></li><li><span>&lt;/result-types&gt;&nbsp;&nbsp;</span></li><li><span>&lt;action&nbsp;name=<span class="string">"ListAllFruit4Bar2"</span><span>&nbsp;</span><span class="keyword">class</span><span>=</span><span class="string">"chart.ListAllFruit4Bar2Action"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;result&nbsp;name=<span class="string">"success"</span><span>&nbsp;type=</span><span class="string">"chart"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param&nbsp;name=<span class="string">"chart"</span><span>&gt;chart&lt;/param&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param&nbsp;name=<span class="string">"height"</span><span>&gt;</span><span class="number">400</span><span>&lt;/param&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param&nbsp;name=<span class="string">"width"</span><span>&gt;</span><span class="number">700</span><span>&lt;/param&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/result&gt;&nbsp;&nbsp;</span></li><li><span>&lt;/action&gt;&nbsp;&nbsp;</span></li><li><span>&lt;action&nbsp;name=<span class="string">"ListAllFruit4Pie2"</span><span>&nbsp;</span><span class="keyword">class</span><span>=</span><span class="string">"chart.ListAllFruit4Pie2Action"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;result&nbsp;name=<span class="string">"success"</span><span>&nbsp;type=</span><span class="string">"chart"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param&nbsp;name=<span class="string">"chart"</span><span>&gt;chart&lt;/param&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param&nbsp;name=<span class="string">"height"</span><span>&gt;</span><span class="number">400</span><span>&lt;/param&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param&nbsp;name=<span class="string">"width"</span><span>&gt;</span><span class="number">700</span><span>&lt;/param&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/result&gt;&nbsp;&nbsp;</span></li><li><span>&lt;/action&gt;&nbsp;&nbsp;</span></li></ol></div><pre style="display: none;" name="code" class="java">&lt;result-types&gt;
	&lt;result-type name="chart" class="org.apache.struts2.dispatcher.ChartResult"/&gt;
&lt;/result-types&gt;
&lt;action name="ListAllFruit4Bar2" class="chart.ListAllFruit4Bar2Action"&gt;
	&lt;result name="success" type="chart"&gt;
		&lt;param name="chart"&gt;chart&lt;/param&gt;
		&lt;param name="height"&gt;400&lt;/param&gt;
		&lt;param name="width"&gt;700&lt;/param&gt;
	&lt;/result&gt;
&lt;/action&gt;
&lt;action name="ListAllFruit4Pie2" class="chart.ListAllFruit4Pie2Action"&gt;
	&lt;result name="success" type="chart"&gt;
		&lt;param name="chart"&gt;chart&lt;/param&gt;
		&lt;param name="height"&gt;400&lt;/param&gt;
		&lt;param name="width"&gt;700&lt;/param&gt;
	&lt;/result&gt;
&lt;/action&gt;
</pre>
<br>2、需要再添加jfreechart-1.0.9.jar和jcommon-1.0.12.jar（JasperReports和JFreeChart都需要的）到你的classpath里面。
<br>3、在你的action代码里，返回一个JFreeChart对象即可。
<br><span style="color: blue;">ListAllFruit4Bar2Action代码：</span>
<br><div class="dp-highlighter"><div class="bar"><div class="tools">Java代码 <embed src="181282_files/clipboard_new.swf" flashvars="clipboard=package%20chart%3B%0A%0Aimport%20org.jfree.chart.JFreeChart%3B%0A%0Aimport%20com.opensymphony.xwork2.ActionSupport%3B%0A%0Apublic%20class%20ListAllFruit4Bar2Action%20extends%20ActionSupport%20%7B%0A%09private%20static%20final%20long%20serialVersionUID%20%3D%201L%3B%0A%20%20%20%20private%20JFreeChart%20chart%3B%0A%09%0A%09%40Override%0A%09public%20String%20execute()%20throws%20Exception%20%7B%0A%09%09chart%20%3D%20FruitService.createBarChart()%3B%0A%09%09return%20SUCCESS%3B%0A%09%7D%0A%09%0A%09public%20JFreeChart%20getChart()%20%7B%0A%09%09return%20chart%3B%0A%09%7D%0A%7D%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" height="15" width="14"></div></div><ol class="dp-j" start="1"><li><span><span class="keyword">package</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.chart.JFreeChart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">import</span><span>&nbsp;com.opensymphony.xwork2.ActionSupport;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ListAllFruit4Bar2Action&nbsp;</span><span class="keyword">extends</span><span>&nbsp;ActionSupport&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;</span><span class="keyword">long</span><span>&nbsp;serialVersionUID&nbsp;=&nbsp;1L;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;JFreeChart&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;execute()&nbsp;</span><span class="keyword">throws</span><span>&nbsp;Exception&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;FruitService.createBarChart();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;SUCCESS;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;JFreeChart&nbsp;getChart()&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre style="display: none;" name="code" class="java">package chart;

import org.jfree.chart.JFreeChart;

import com.opensymphony.xwork2.ActionSupport;

public class ListAllFruit4Bar2Action extends ActionSupport {
	private static final long serialVersionUID = 1L;
    private JFreeChart chart;
	
	@Override
	public String execute() throws Exception {
		chart = FruitService.createBarChart();
		return SUCCESS;
	}
	
	public JFreeChart getChart() {
		return chart;
	}
}
</pre>
<br><span style="color: blue;">ListAllFruit4Pie2Action代码：</span>
<br><div class="dp-highlighter"><div class="bar"><div class="tools">Java代码 <embed src="181282_files/clipboard_new.swf" flashvars="clipboard=package%20chart%3B%0A%0Aimport%20org.jfree.chart.JFreeChart%3B%0A%0Aimport%20com.opensymphony.xwork2.ActionSupport%3B%0A%0Apublic%20class%20ListAllFruit4Pie2Action%20extends%20ActionSupport%20%7B%0A%09private%20static%20final%20long%20serialVersionUID%20%3D%201L%3B%0A%20%20%20%20private%20JFreeChart%20chart%3B%0A%09%0A%09%40Override%0A%09public%20String%20execute()%20throws%20Exception%20%7B%0A%09%09chart%20%3D%20FruitService.createPaiChart()%3B%0A%09%09return%20SUCCESS%3B%0A%09%7D%0A%09%0A%09public%20JFreeChart%20getChart()%20%7B%0A%09%09return%20chart%3B%0A%09%7D%0A%7D%0A%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" height="15" width="14"></div></div><ol class="dp-j" start="1"><li><span><span class="keyword">package</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.chart.JFreeChart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">import</span><span>&nbsp;com.opensymphony.xwork2.ActionSupport;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;ListAllFruit4Pie2Action&nbsp;</span><span class="keyword">extends</span><span>&nbsp;ActionSupport&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">final</span><span>&nbsp;</span><span class="keyword">long</span><span>&nbsp;serialVersionUID&nbsp;=&nbsp;1L;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;JFreeChart&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Override</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;execute()&nbsp;</span><span class="keyword">throws</span><span>&nbsp;Exception&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;FruitService.createPaiChart();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;SUCCESS;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;JFreeChart&nbsp;getChart()&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre style="display: none;" name="code" class="java">package chart;

import org.jfree.chart.JFreeChart;

import com.opensymphony.xwork2.ActionSupport;

public class ListAllFruit4Pie2Action extends ActionSupport {
	private static final long serialVersionUID = 1L;
    private JFreeChart chart;
	
	@Override
	public String execute() throws Exception {
		chart = FruitService.createPaiChart();
		return SUCCESS;
	}
	
	public JFreeChart getChart() {
		return chart;
	}
}

</pre>
<br><span style="color: blue;">FruitService代码：</span>
<br><div class="dp-highlighter"><div class="bar"><div class="tools">Java代码 <embed src="181282_files/clipboard_new.swf" flashvars="clipboard=package%20chart%3B%0A%0Aimport%20org.jfree.chart.ChartFactory%3B%0Aimport%20org.jfree.chart.JFreeChart%3B%0Aimport%20org.jfree.chart.plot.PlotOrientation%3B%0Aimport%20org.jfree.data.category.CategoryDataset%3B%0Aimport%20org.jfree.data.category.DefaultCategoryDataset%3B%0A%0Apublic%20class%20FruitService%20%7B%0A%0A%09public%20static%20JFreeChart%20createBarChart()%20%7B%0A%09%09CategoryDataset%20dataset%20%3D%20getDataSet2()%3B%0A%09%09JFreeChart%20chart%20%3D%20ChartFactory.createBarChart3D(%0A%09%09%09%09%22%E6%B0%B4%E6%9E%9C%E4%BA%A7%E9%87%8F%E5%9B%BE%22%2C%20%2F%2F%20%E5%9B%BE%E8%A1%A8%E6%A0%87%E9%A2%98%0A%09%09%09%09%22%E6%B0%B4%E6%9E%9C%22%2C%20%2F%2F%20%E7%9B%AE%E5%BD%95%E8%BD%B4%E7%9A%84%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE%0A%09%09%09%09%22%E4%BA%A7%E9%87%8F%22%2C%20%2F%2F%20%E6%95%B0%E5%80%BC%E8%BD%B4%E7%9A%84%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE%0A%09%09%09%09dataset%2C%20%2F%2F%20%E6%95%B0%E6%8D%AE%E9%9B%86%0A%09%09%09%09PlotOrientation.VERTICAL%2C%20%2F%2F%20%E5%9B%BE%E8%A1%A8%E6%96%B9%E5%90%91%EF%BC%9A%E6%B0%B4%E5%B9%B3%E3%80%81%E5%9E%82%E7%9B%B4%0A%09%09%09%09true%2C%20%09%2F%2F%20%E6%98%AF%E5%90%A6%E6%98%BE%E7%A4%BA%E5%9B%BE%E4%BE%8B(%E5%AF%B9%E4%BA%8E%E7%AE%80%E5%8D%95%E7%9A%84%E6%9F%B1%E7%8A%B6%E5%9B%BE%E5%BF%85%E9%A1%BB%E6%98%AFfalse)%0A%09%09%09%09true%2C%20%09%2F%2F%20%E6%98%AF%E5%90%A6%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%0A%09%09%09%09true%20%09%2F%2F%20%E6%98%AF%E5%90%A6%E7%94%9F%E6%88%90URL%E9%93%BE%E6%8E%A5%0A%09%09%09%09)%3B%0A%09%09return%20chart%3B%0A%09%7D%0A%0A%09private%20static%20CategoryDataset%20getDataSet2()%20%7B%0A%09%09DefaultCategoryDataset%20dataset%20%3D%20new%20DefaultCategoryDataset()%3B%0A%09%09dataset.addValue(100%2C%20%22%E5%8C%97%E4%BA%AC%22%2C%20%22%E8%8B%B9%E6%9E%9C%22)%3B%0A%09%09dataset.addValue(100%2C%20%22%E4%B8%8A%E6%B5%B7%22%2C%20%22%E8%8B%B9%E6%9E%9C%22)%3B%0A%09%09dataset.addValue(100%2C%20%22%E5%B9%BF%E5%B7%9E%22%2C%20%22%E8%8B%B9%E6%9E%9C%22)%3B%0A%09%09dataset.addValue(200%2C%20%22%E5%8C%97%E4%BA%AC%22%2C%20%22%E6%A2%A8%E5%AD%90%22)%3B%0A%09%09dataset.addValue(200%2C%20%22%E4%B8%8A%E6%B5%B7%22%2C%20%22%E6%A2%A8%E5%AD%90%22)%3B%0A%09%09dataset.addValue(200%2C%20%22%E5%B9%BF%E5%B7%9E%22%2C%20%22%E6%A2%A8%E5%AD%90%22)%3B%0A%09%09dataset.addValue(300%2C%20%22%E5%8C%97%E4%BA%AC%22%2C%20%22%E8%91%A1%E8%90%84%22)%3B%0A%09%09dataset.addValue(300%2C%20%22%E4%B8%8A%E6%B5%B7%22%2C%20%22%E8%91%A1%E8%90%84%22)%3B%0A%09%09dataset.addValue(300%2C%20%22%E5%B9%BF%E5%B7%9E%22%2C%20%22%E8%91%A1%E8%90%84%22)%3B%0A%09%09dataset.addValue(400%2C%20%22%E5%8C%97%E4%BA%AC%22%2C%20%22%E9%A6%99%E8%95%89%22)%3B%0A%09%09dataset.addValue(400%2C%20%22%E4%B8%8A%E6%B5%B7%22%2C%20%22%E9%A6%99%E8%95%89%22)%3B%0A%09%09dataset.addValue(400%2C%20%22%E5%B9%BF%E5%B7%9E%22%2C%20%22%E9%A6%99%E8%95%89%22)%3B%0A%09%09dataset.addValue(500%2C%20%22%E5%8C%97%E4%BA%AC%22%2C%20%22%E8%8D%94%E6%9E%9D%22)%3B%0A%09%09dataset.addValue(500%2C%20%22%E4%B8%8A%E6%B5%B7%22%2C%20%22%E8%8D%94%E6%9E%9D%22)%3B%0A%09%09dataset.addValue(500%2C%20%22%E5%B9%BF%E5%B7%9E%22%2C%20%22%E8%8D%94%E6%9E%9D%22)%3B%0A%09%09return%20dataset%3B%0A%09%7D%0A%20%20%20%20%20%0A%20%20%20%20public%20static%20JFreeChart%20createPaiChart()%20%7B%0A%09%09DefaultPieDataset%20data%20%3D%20getDataSet()%3B%0A%09%09JFreeChart%20chart%20%3D%20ChartFactory.createPieChart3D(%22%E6%B0%B4%E6%9E%9C%E4%BA%A7%E9%87%8F%E5%9B%BE%22%2C%20%20%2F%2F%20%E5%9B%BE%E8%A1%A8%E6%A0%87%E9%A2%98%0A%09%09data%2C%20%0A%09%09true%2C%20%2F%2F%20%E6%98%AF%E5%90%A6%E6%98%BE%E7%A4%BA%E5%9B%BE%E4%BE%8B%0A%09%09false%2C%0A%09%09false%0A%09%09)%3B%0A%09%09PiePlot%20plot%20%3D%20(PiePlot)%20chart.getPlot()%3B%0A%09%09resetPiePlot(plot)%3B%0A%09%09return%20chart%3B%0A%09%7D%0A%09%0A%09private%20static%20void%20resetPiePlot(PiePlot%20plot)%20%7B%0A%09%09String%20unitSytle%20%3D%20%22%7B0%7D%3D%7B1%7D(%7B2%7D)%22%3B%0A%09%09%0A%09%09plot.setNoDataMessage(%22%E6%97%A0%E5%AF%B9%E5%BA%94%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%AF%B7%E9%87%8D%E6%96%B0%E6%9F%A5%E8%AF%A2%E3%80%82%22)%3B%0A%09%09plot.setNoDataMessagePaint(Color.red)%3B%0A%09%09%0A%09%09%2F%2F%E6%8C%87%E5%AE%9A%20section%20%E8%BD%AE%E5%BB%93%E7%BA%BF%E7%9A%84%E5%8E%9A%E5%BA%A6(OutlinePaint%E4%B8%8D%E8%83%BD%E4%B8%BAnull)%0A%09%09plot.setOutlineStroke(new%20BasicStroke(0))%3B%0A%09%09%0A%09%09%2F%2F%E8%AE%BE%E7%BD%AE%E7%AC%AC%E4%B8%80%E4%B8%AA%20section%20%E7%9A%84%E5%BC%80%E5%A7%8B%E4%BD%8D%E7%BD%AE%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF12%E7%82%B9%E9%92%9F%E6%96%B9%E5%90%91%0A%09%09plot.setStartAngle(90)%3B%09%09%09%0A%0A%09%09plot.setToolTipGenerator(new%20StandardPieToolTipGenerator(unitSytle%2C%0A%09%09%09%09NumberFormat.getNumberInstance()%2C%0A%09%09%09%09new%20DecimalFormat(%220.00%25%22)))%3B%0A%09%09%0A%09%09%2F%2F%E6%8C%87%E5%AE%9A%E5%9B%BE%E7%89%87%E7%9A%84%E9%80%8F%E6%98%8E%E5%BA%A6%0A%09%09plot.setForegroundAlpha(0.65f)%3B%0A%09%09%0A%09%09%2F%2F%E5%BC%95%E5%87%BA%E6%A0%87%E7%AD%BE%E6%98%BE%E7%A4%BA%E6%A0%B7%E5%BC%8F%0A%09%09plot.setLabelGenerator(new%20StandardPieSectionLabelGenerator(unitSytle%2C%0A%09%09%09%09NumberFormat.getNumberInstance()%2C%0A%09%09%09%09new%20DecimalFormat(%220.00%25%22)))%3B%0A%09%09%09%0A%09%09%2F%2F%E5%9B%BE%E4%BE%8B%E6%98%BE%E7%A4%BA%E6%A0%B7%E5%BC%8F%0A%09%09plot.setLegendLabelGenerator(new%20StandardPieSectionLabelGenerator(unitSytle%2C%0A%09%09%09%09NumberFormat.getNumberInstance()%2C%0A%09%09%09%09new%20DecimalFormat(%220.00%25%22)))%3B%0A%09%7D%0A%0A%09private%20static%20DefaultPieDataset%20getDataSet()%20%7B%0A%09%09DefaultPieDataset%20dataset%20%3D%20new%20DefaultPieDataset()%3B%0A%09%09dataset.setValue(%22%E8%8B%B9%E6%9E%9C%22%2C100)%3B%0A%09%09dataset.setValue(%22%E6%A2%A8%E5%AD%90%22%2C200)%3B%0A%09%09dataset.setValue(%22%E8%91%A1%E8%90%84%22%2C300)%3B%0A%09%09dataset.setValue(%22%E9%A6%99%E8%95%89%22%2C400)%3B%0A%09%09dataset.setValue(%22%E8%8D%94%E6%9E%9D%22%2C500)%3B%0A%09%09return%20dataset%3B%0A%09%7D%0A%0A%7D%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" height="15" width="14"></div></div><ol class="dp-j" start="1"><li><span><span class="keyword">package</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.chart.ChartFactory;&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.chart.JFreeChart;&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.chart.plot.PlotOrientation;&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.data.category.CategoryDataset;&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">import</span><span>&nbsp;org.jfree.data.category.DefaultCategoryDataset;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;FruitService&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;JFreeChart&nbsp;createBarChart()&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CategoryDataset&nbsp;dataset&nbsp;=&nbsp;getDataSet2();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JFreeChart&nbsp;chart&nbsp;=&nbsp;ChartFactory.createBarChart3D(&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"水果产量图"</span><span>,&nbsp;</span><span class="comment">//&nbsp;图表标题</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"水果"</span><span>,&nbsp;</span><span class="comment">//&nbsp;目录轴的显示标签</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"产量"</span><span>,&nbsp;</span><span class="comment">//&nbsp;数值轴的显示标签</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset,&nbsp;<span class="comment">//&nbsp;数据集</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PlotOrientation.VERTICAL,&nbsp;<span class="comment">//&nbsp;图表方向：水平、垂直</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">true</span><span>,&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;是否显示图例(对于简单的柱状图必须是false)</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">true</span><span>,&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;是否生成工具</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">true</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;是否生成URL链接</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;CategoryDataset&nbsp;getDataSet2()&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DefaultCategoryDataset&nbsp;dataset&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;DefaultCategoryDataset();&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">100</span><span>,&nbsp;</span><span class="string">"北京"</span><span>,&nbsp;</span><span class="string">"苹果"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">100</span><span>,&nbsp;</span><span class="string">"上海"</span><span>,&nbsp;</span><span class="string">"苹果"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">100</span><span>,&nbsp;</span><span class="string">"广州"</span><span>,&nbsp;</span><span class="string">"苹果"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">200</span><span>,&nbsp;</span><span class="string">"北京"</span><span>,&nbsp;</span><span class="string">"梨子"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">200</span><span>,&nbsp;</span><span class="string">"上海"</span><span>,&nbsp;</span><span class="string">"梨子"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">200</span><span>,&nbsp;</span><span class="string">"广州"</span><span>,&nbsp;</span><span class="string">"梨子"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">300</span><span>,&nbsp;</span><span class="string">"北京"</span><span>,&nbsp;</span><span class="string">"葡萄"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">300</span><span>,&nbsp;</span><span class="string">"上海"</span><span>,&nbsp;</span><span class="string">"葡萄"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">300</span><span>,&nbsp;</span><span class="string">"广州"</span><span>,&nbsp;</span><span class="string">"葡萄"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">400</span><span>,&nbsp;</span><span class="string">"北京"</span><span>,&nbsp;</span><span class="string">"香蕉"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">400</span><span>,&nbsp;</span><span class="string">"上海"</span><span>,&nbsp;</span><span class="string">"香蕉"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">400</span><span>,&nbsp;</span><span class="string">"广州"</span><span>,&nbsp;</span><span class="string">"香蕉"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">500</span><span>,&nbsp;</span><span class="string">"北京"</span><span>,&nbsp;</span><span class="string">"荔枝"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">500</span><span>,&nbsp;</span><span class="string">"上海"</span><span>,&nbsp;</span><span class="string">"荔枝"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.addValue(<span class="number">500</span><span>,&nbsp;</span><span class="string">"广州"</span><span>,&nbsp;</span><span class="string">"荔枝"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;dataset;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;JFreeChart&nbsp;createPaiChart()&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DefaultPieDataset&nbsp;data&nbsp;=&nbsp;getDataSet();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JFreeChart&nbsp;chart&nbsp;=&nbsp;ChartFactory.createPieChart3D(<span class="string">"水果产量图"</span><span>,&nbsp;&nbsp;</span><span class="comment">//&nbsp;图表标题</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data,&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">true</span><span>,&nbsp;</span><span class="comment">//&nbsp;是否显示图例</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">false</span><span>,&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">false</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PiePlot&nbsp;plot&nbsp;=&nbsp;(PiePlot)&nbsp;chart.getPlot();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resetPiePlot(plot);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;chart;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;resetPiePlot(PiePlot&nbsp;plot)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;unitSytle&nbsp;=&nbsp;<span class="string">"{0}={1}({2})"</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setNoDataMessage(<span class="string">"无对应的数据，请重新查询。"</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setNoDataMessagePaint(Color.red);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//指定&nbsp;section&nbsp;轮廓线的厚度(OutlinePaint不能为null)</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setOutlineStroke(<span class="keyword">new</span><span>&nbsp;BasicStroke(</span><span class="number">0</span><span>));&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//设置第一个&nbsp;section&nbsp;的开始位置，默认是12点钟方向</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setStartAngle(<span class="number">90</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setToolTipGenerator(<span class="keyword">new</span><span>&nbsp;StandardPieToolTipGenerator(unitSytle,&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberFormat.getNumberInstance(),&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">new</span><span>&nbsp;DecimalFormat(</span><span class="string">"0.00%"</span><span>)));&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//指定图片的透明度</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setForegroundAlpha(<span class="number">0</span><span>.65f);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//引出标签显示样式</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setLabelGenerator(<span class="keyword">new</span><span>&nbsp;StandardPieSectionLabelGenerator(unitSytle,&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberFormat.getNumberInstance(),&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">new</span><span>&nbsp;DecimalFormat(</span><span class="string">"0.00%"</span><span>)));&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//图例显示样式</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot.setLegendLabelGenerator(<span class="keyword">new</span><span>&nbsp;StandardPieSectionLabelGenerator(unitSytle,&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberFormat.getNumberInstance(),&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">new</span><span>&nbsp;DecimalFormat(</span><span class="string">"0.00%"</span><span>)));&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;DefaultPieDataset&nbsp;getDataSet()&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DefaultPieDataset&nbsp;dataset&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;DefaultPieDataset();&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.setValue(<span class="string">"苹果"</span><span>,</span><span class="number">100</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.setValue(<span class="string">"梨子"</span><span>,</span><span class="number">200</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.setValue(<span class="string">"葡萄"</span><span>,</span><span class="number">300</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.setValue(<span class="string">"香蕉"</span><span>,</span><span class="number">400</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.setValue(<span class="string">"荔枝"</span><span>,</span><span class="number">500</span><span>);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;dataset;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre style="display: none;" name="code" class="java">package chart;

import org.jfree.chart.ChartFactory;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.data.category.CategoryDataset;
import org.jfree.data.category.DefaultCategoryDataset;

public class FruitService {

	public static JFreeChart createBarChart() {
		CategoryDataset dataset = getDataSet2();
		JFreeChart chart = ChartFactory.createBarChart3D(
				"水果产量图", // 图表标题
				"水果", // 目录轴的显示标签
				"产量", // 数值轴的显示标签
				dataset, // 数据集
				PlotOrientation.VERTICAL, // 图表方向：水平、垂直
				true, 	// 是否显示图例(对于简单的柱状图必须是false)
				true, 	// 是否生成工具
				true 	// 是否生成URL链接
				);
		return chart;
	}

	private static CategoryDataset getDataSet2() {
		DefaultCategoryDataset dataset = new DefaultCategoryDataset();
		dataset.addValue(100, "北京", "苹果");
		dataset.addValue(100, "上海", "苹果");
		dataset.addValue(100, "广州", "苹果");
		dataset.addValue(200, "北京", "梨子");
		dataset.addValue(200, "上海", "梨子");
		dataset.addValue(200, "广州", "梨子");
		dataset.addValue(300, "北京", "葡萄");
		dataset.addValue(300, "上海", "葡萄");
		dataset.addValue(300, "广州", "葡萄");
		dataset.addValue(400, "北京", "香蕉");
		dataset.addValue(400, "上海", "香蕉");
		dataset.addValue(400, "广州", "香蕉");
		dataset.addValue(500, "北京", "荔枝");
		dataset.addValue(500, "上海", "荔枝");
		dataset.addValue(500, "广州", "荔枝");
		return dataset;
	}
     
    public static JFreeChart createPaiChart() {
		DefaultPieDataset data = getDataSet();
		JFreeChart chart = ChartFactory.createPieChart3D("水果产量图",  // 图表标题
		data, 
		true, // 是否显示图例
		false,
		false
		);
		PiePlot plot = (PiePlot) chart.getPlot();
		resetPiePlot(plot);
		return chart;
	}
	
	private static void resetPiePlot(PiePlot plot) {
		String unitSytle = "{0}={1}({2})";
		
		plot.setNoDataMessage("无对应的数据，请重新查询。");
		plot.setNoDataMessagePaint(Color.red);
		
		//指定 section 轮廓线的厚度(OutlinePaint不能为null)
		plot.setOutlineStroke(new BasicStroke(0));
		
		//设置第一个 section 的开始位置，默认是12点钟方向
		plot.setStartAngle(90);			

		plot.setToolTipGenerator(new StandardPieToolTipGenerator(unitSytle,
				NumberFormat.getNumberInstance(),
				new DecimalFormat("0.00%")));
		
		//指定图片的透明度
		plot.setForegroundAlpha(0.65f);
		
		//引出标签显示样式
		plot.setLabelGenerator(new StandardPieSectionLabelGenerator(unitSytle,
				NumberFormat.getNumberInstance(),
				new DecimalFormat("0.00%")));
			
		//图例显示样式
		plot.setLegendLabelGenerator(new StandardPieSectionLabelGenerator(unitSytle,
				NumberFormat.getNumberInstance(),
				new DecimalFormat("0.00%")));
	}

	private static DefaultPieDataset getDataSet() {
		DefaultPieDataset dataset = new DefaultPieDataset();
		dataset.setValue("苹果",100);
		dataset.setValue("梨子",200);
		dataset.setValue("葡萄",300);
		dataset.setValue("香蕉",400);
		dataset.setValue("荔枝",500);
		return dataset;
	}

}
</pre>
<br>4、同时在jsp页面里显示--柱图和饼图。
<br><span style="color: blue;">增加一个ListAllFruit4BarAndPie的action：</span>
<br><div class="dp-highlighter"><div class="bar"><div class="tools">Java代码 <embed src="181282_files/clipboard_new.swf" flashvars="clipboard=%3Caction%20name%3D%22ListAllFruit4BarAndPie%22%20class%3D%22%22%3E%0A%09%3Cresult%20name%3D%22success%22%20type%3D%22dispatcher%22%3E%2FWEB-INF%2Fchart%2FListAllFruit4BarAndPie.jsp%3C%2Fresult%3E%0A%3C%2Faction%3E%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" height="15" width="14"></div></div><ol class="dp-j" start="1"><li><span><span>&lt;action&nbsp;name=</span><span class="string">"ListAllFruit4BarAndPie"</span><span>&nbsp;</span><span class="keyword">class</span><span>=</span><span class="string">""</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;result&nbsp;name=<span class="string">"success"</span><span>&nbsp;type=</span><span class="string">"dispatcher"</span><span>&gt;/WEB-INF/chart/ListAllFruit4BarAndPie.jsp&lt;/result&gt;&nbsp;&nbsp;</span></span></li><li><span>&lt;/action&gt;&nbsp;&nbsp;</span></li></ol></div><pre style="display: none;" name="code" class="java">&lt;action name="ListAllFruit4BarAndPie" class=""&gt;
	&lt;result name="success" type="dispatcher"&gt;/WEB-INF/chart/ListAllFruit4BarAndPie.jsp&lt;/result&gt;
&lt;/action&gt;
</pre>
<br><span style="color: blue;">ListAllFruit4BarAndPie.jsp代码：</span>
<br><div class="dp-highlighter"><div class="bar"><div class="tools">Java代码 <embed src="181282_files/clipboard_new.swf" flashvars="clipboard=%3C%25%40%20page%20contentType%3D%22text%2Fhtml%3B%20charset%3DUTF-8%22%20%25%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%20%20%3Ctitle%3EListAllFruit4BarAndPie%3C%2Ftitle%3E%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%09%3Ccenter%3E%3Ch2%3E%E4%BD%BF%E7%94%A8%E6%9F%B1%E5%9B%BE%E5%92%8C%E9%A5%BC%E5%9B%BE%E5%88%97%E5%8F%96%E6%89%80%E6%9C%89%E6%B0%B4%E6%9E%9C%E4%BA%A7%E9%87%8F%3C%2Fh2%3E%3C%2Fcenter%3E%0A%09%E6%9F%B1%E5%9B%BE%3A%3Cimg%20src%3D%22chart%2FListAllFruit4Bar2.action%22%3E%0A%0A%09%E9%A5%BC%E5%9B%BE%3A%3Cimg%20src%3D%22chart%2FListAllFruit4Pie2.action%22%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" height="15" width="14"></div></div><ol class="dp-j" start="1"><li><span><span>&lt;%@&nbsp;page&nbsp;contentType=</span><span class="string">"text/html;&nbsp;charset=UTF-8"</span><span>&nbsp;%&gt;&nbsp;&nbsp;</span></span></li><li><span>&lt;html&gt;&nbsp;&nbsp;</span></li><li><span>&lt;head&gt;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;ListAllFruit4BarAndPie&lt;/title&gt;&nbsp;&nbsp;</span></li><li><span>&lt;/head&gt;&nbsp;&nbsp;</span></li><li><span>&lt;body&gt;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;center&gt;&lt;h2&gt;使用柱图和饼图列取所有水果产量&lt;/h2&gt;&lt;/center&gt;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;柱图:&lt;img&nbsp;src=<span class="string">"chart/ListAllFruit4Bar2.action"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;饼图:&lt;img&nbsp;src=<span class="string">"chart/ListAllFruit4Pie2.action"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li><span>&lt;/body&gt;&nbsp;&nbsp;</span></li><li><span>&lt;/html&gt;&nbsp;&nbsp;</span></li></ol></div><pre style="display: none;" name="code" class="java">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ListAllFruit4BarAndPie&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;center&gt;&lt;h2&gt;使用柱图和饼图列取所有水果产量&lt;/h2&gt;&lt;/center&gt;
	柱图:&lt;img src="chart/ListAllFruit4Bar2.action"&gt;&lt;br/&gt;
	饼图:&lt;img src="chart/ListAllFruit4Pie2.action"&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<br>
<br><img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif">&nbsp;<img src="181282_files/icon_biggrin.gif"> 
<br><span style="color: blue;">生成的HTML的效果图如下：</span>
<br><img src="181282_files/bd5bba89-54f9-3dcc-a679-0ce373e6b455.jpg">
<br>
<br><span style="color: green;"><strong>下面是除了依赖的jar以外的所有源代码，share出来，欢迎下载。</strong></span>
  </div>
  
  

  
  <div class="attachments">
    
      
        <ul>
          <li><a href="http://liyanboss.javaeye.com/topics/download/10919f0d-c544-34a1-a9d7-c665f51244ec">JasperReportsDemo-chart.rar</a> (44.1 KB)</li>
          <li>描述: 包含chart的JasperReportsDemo</li>
          <li>下载次数: 160</li>
        </ul>
      
    
    
  </div>


  <div class="blog_bottom">
    <ul>
      <li>14:33</li>
      <li>浏览 (1430)</li>
            <li><a href="#comments">评论</a> (4)</li>
      <li>分类: <a href="http://liyanboss.javaeye.com/category/26250">工作</a></li>
      
      
        <li><a href="http://atealxt.javaeye.com/app/user_favorites?user_favorite%5Btitle%5D=%E5%9C%A8struts2%E4%B8%AD%E4%BD%BF%E7%94%A8JFreeChart&amp;user_favorite%5Burl%5D=http%3A%2F%2Fliyanboss.javaeye.com%2Fblog%2F181282" target="_blank" class="favorite">收藏</a></li>
        
      
      
      <li class="last"><a href="http://www.javaeye.com/wiki/topic/181282" target="_blank" class="more">相关推荐</a></li>
    </ul>
  </div>

  
  

  <div class="blog_comment">
    <h5>评论</h5>
    <a id="comments" name="comments"></a>
    <div id="bc690112">
  <div class="comment_title">
    <a href="http://jy02411368.javaeye.com/" target="_blank">jy02411368</a>
    2008-10-08&nbsp;&nbsp;
    <a href="#" onclick="quote_comment(this);return false;">回复</a>
    
  </div>
  <div class="comment_content">杂说你好呢？说的是JFREECHART 下载的包却是JASPER的例子？？？</div>
</div>
<div id="bc682490">
  <div class="comment_title">
    <a href="http://shaqiang32.javaeye.com/" target="_blank">shaqiang32</a>
    2008-09-28&nbsp;&nbsp;
    <a href="#" onclick="quote_comment(this);return false;">回复</a>
    
  </div>
  <div class="comment_content">李大哥，我是小刘啊，居然在javaeye都能碰到，，，这个好像是你上次教我的那个报表程序？</div>
</div>
<div id="bc663748">
  <div class="comment_title">
    <a href="http://toyblanco.javaeye.com/" target="_blank">toyblanco</a>
    2008-09-12&nbsp;&nbsp;
    <a href="#" onclick="quote_comment(this);return false;">回复</a>
    
  </div>
  <div class="comment_content">完全没有说清楚,代码里面也乱,都是越看越糊涂.<br>在struts2中使用JFreeChart楼主自己弄清楚没?<br>有误导新人的嫌疑.</div>
</div>
<div id="bc535126">
  <div class="comment_title">
    <a href="http://liukidd.javaeye.com/" target="_blank">liukidd</a>
    2008-05-04&nbsp;&nbsp;
    <a href="#" onclick="quote_comment(this);return false;">回复</a>
    
  </div>
  <div class="comment_content">如果数据量大，这种方法可行吗？</div>
</div>

    
    
  </div>

  <div class="blog_comment">
    <h5>发表评论</h5>
          
      <form action="/blog/181282" id="comment_form" method="post" onsubmit="return false;">        


  <input value="true" id="editor_bbcode_flag" type="hidden">



<div id="editor_main"><div class="clearfix" id="editor_wrapper"><div id="bbcode_emotions"><h5>表情图标</h5><img src="181282_files/icon_biggrin_002.gif"><img src="181282_files/icon_smile.gif"><img src="181282_files/icon_sad.gif"><img src="181282_files/icon_surprised.gif"><img src="181282_files/icon_eek.gif"><img src="181282_files/icon_confused.gif"><img src="181282_files/icon_cool.gif"><img src="181282_files/icon_lol.gif"><img src="181282_files/icon_mad.gif"><img src="181282_files/icon_razz.gif"><img src="181282_files/icon_redface.gif"><img src="181282_files/icon_cry.gif"><img src="181282_files/icon_evil.gif"><img src="181282_files/icon_twisted.gif"><img src="181282_files/icon_rolleyes.gif"><img src="181282_files/icon_wink.gif"><img src="181282_files/icon_exclaim.gif"><img src="181282_files/icon_question.gif"><img src="181282_files/icon_idea.gif"><img src="181282_files/icon_arrow.gif"></div><div id="bbcode_controllers"><div id="bbcode_toolbar"><input id="button_bold" value="B" type="button"><input id="button_italic" value="I" type="button"><input id="button_underline" value="U" type="button"><input value="Quote" type="button"><input value="Code" type="button"><input value="List" type="button"><input value="List=" type="button"><input value="Img" type="button"><input value="URL" type="button"><input value="Flash" type="button"><br>字体颜色: <select id="select_color"><option value="black" style="color: black;">标准</option><option value="darkred" style="color: darkred;">深红</option><option value="red" style="color: red;">红色</option><option value="orange" style="color: orange;">橙色</option><option value="brown" style="color: brown;">棕色</option><option value="yellow" style="color: yellow;">黄色</option><option value="green" style="color: green;">绿色</option><option value="olive" style="color: olive;">橄榄</option><option value="cyan" style="color: cyan;">青色</option><option value="blue" style="color: blue;">蓝色</option><option value="darkblue" style="color: darkblue;">深蓝</option><option value="indigo" style="color: indigo;">靛蓝</option><option value="violet" style="color: violet;">紫色</option><option value="gray" style="color: gray;">灰色</option><option value="white" style="color: white;">白色</option><option value="black" style="color: black;">黑色</option></select>&nbsp;字体大小: <select id="select_font"><option value="0">标准</option><option value="xx-small">1 (xx-small)</option><option value="x-small">2 (x-small)</option><option value="small">3 (small)</option><option value="medium">4 (medium)</option><option value="large">5 (large)</option><option value="x-large">6 (x-large)</option><option value="xx-large">7 (xx-large)</option></select>&nbsp;对齐: <select id="select_align"><option value="0">标准</option><option value="left">居左</option><option value="center">居中</option><option value="right">居右</option></select></div><div id="bbcode_tooltip">提示：选择您需要装饰的文字, 按上列按钮即可添加上相应的标签</div><textarea class="validate-richeditor bad-words min-length-5" cols="40" id="editor_body" name="comment[body]" rows="20" style="width: 500px; height: 350px;"></textarea></div></div></div>


<script type="text/javascript">
  var editor = new Control.TextArea.Editor("editor_body", "bbcode", false);
</script>
        <p style="text-align: right; padding-right: 30px;"> <input class="submit" id="submit_button" name="commit" value="提交" type="submit"></p>
      <img src="181282_files/spinner.gif" style="display: none;" id="_form_spinner_"></form>
      <script type="text/javascript">
        new Validation("comment_form", {immediate: false, onFormValidate: function(result, form){
  
          if(result) {
            new Ajax.Request('/blog/create_comment/181282', {
              onSuccess:function(response){
                Element.scrollTo($('comments'));
                $('comments').insert({after:response.responseText})
                $('editor_body').value = "";
                $('_form_spinner_').hide();
              }, parameters:Form.serialize(form)
            });
          }
  
      }});
      </script>
      </div>
</div>


<script type="text/javascript">
  dp.SyntaxHighlighter.ClipboardSwf = '/javascripts/syntaxhighlighter/clipboard.swf';
  dp.SyntaxHighlighter.HighlightAll('code', true, true);

  fix_image_size($$('div.blog_content img'), 700);
  function quote_comment(link) {
    quote_user = $(link).previous(0).innerHTML;
    quote_body = $(link).up().next().innerHTML.stripTags();
    editor.bbcode_editor.textarea.insertAfterSelection('[quote="'+quote_user+'"]\n' + quote_body + '\n[/quote]\n');
  }
</script>


        </div>
        
        <div id="local">
          <div class="local_top"></div>
          <div id="blog_owner">
            <div id="blog_owner_logo"><a href="http://liyanboss.javaeye.com/"><img alt="用户头像" src="181282_files/137f62dc-1e92-37c6-9962-4d36fbafe034.jpg" title="liyanboss的博客: 木子山石"></a></div>
            <div id="blog_owner_name">liyanboss</div>
          </div>
          <div id="blog_actions">
            <ul>
              <li>浏览: 23997 次</li>
              <li>性别: <img alt="Icon_minigender_1" src="181282_files/icon_minigender_1.gif" title="男"></li>
              <li>来自: 厦门</li>
              <li><img src="181282_files/offline.gif"></li>              
              <li><a href="http://liyanboss.javaeye.com/blog/profile">详细资料</a> <a href="http://atealxt.javaeye.com/app/messages/new?message%5Breceiver_name%5D=liyanboss">发送短消息</a> <a href="http://liyanboss.javaeye.com/blog/guest_book">留言簿</a></li>
            </ul>
            <h5>搜索本博客</h5>
            <form action="/blog/search" method="get">              <input class="text" id="query" name="query" style="margin-left: 10px; width: 110px;" type="text">
              <input class="submit" value="搜索" type="submit">
            </form>          </div>
          
            <div id="user_visits" class="clearfix">
              <h5>最近访客</h5>
              
                <div class="left"><span class="logo"><a href="http://atealxt.javaeye.com/" target="_blank"><img alt="用户头像" src="181282_files/user-logo-thumb.gif" title="atealxt的博客: atealxt"></a></span> <a href="http://atealxt.javaeye.com/" target="_blank">atealxt</a></div>
              
                <div class="left"><span class="logo"><a href="http://zf-1017.javaeye.com/" target="_blank"><img alt="用户头像" src="181282_files/user-logo-thumb.gif" title="zf_1017的博客: "></a></span> <a href="http://zf-1017.javaeye.com/" target="_blank">zf_1017</a></div>
              
                <div class="left"><span class="logo"><a href="http://surpass-li.javaeye.com/" target="_blank"><img alt="用户头像" src="181282_files/153494b0-c7dc-3e0f-9ac6-b1c37bc733d3-thumb.png" title="surpass_li的博客: surpass_li"></a></span> <a href="http://surpass-li.javaeye.com/" target="_blank">surpass_li</a></div>
              
                <div class="left"><span class="logo"><a href="http://stouny2712.javaeye.com/" target="_blank"><img alt="用户头像" src="181282_files/user-logo-thumb.gif" title="stouny2712的博客: stouny2712"></a></span> <a href="http://stouny2712.javaeye.com/" target="_blank">stouny2712</a></div>
              
              <div class="left" id="more_user_visits"><a href="http://liyanboss.javaeye.com/blog/user_visits">&gt;&gt;更多访客</a></div>
            </div>
          
                      <div id="blog_menu">
              <h5>博客分类</h5>				
              <ul>
                <li><a href="http://liyanboss.javaeye.com/">全部博客 (32)</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/category/26248">生活 (0)</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/category/26249">学习 (12)</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/category/26250">工作 (19)</a></li>
                
              </ul>
            </div>
            
              <div id="blog_album">
                <h5>我的相册</h5>
                <div class="picture_thumb" style="float: none;">
                  <div><span class="thumb_box"><a href="http://liyanboss.javaeye.com/album"><img alt="4f25f53d-e317-3e2a-8152-107dfd80db9b-thumb" src="181282_files/4f25f53d-e317-3e2a-8152-107dfd80db9b-thumb.jpg"></a></span></div>
                  <span>ssh<br> <a href="http://liyanboss.javaeye.com/album">共 3 张</a></span>
                </div>
              </div>
            
            
              <div id="guest_books">
                <h5>我的留言簿 <span style="font-weight: normal; font-size: 12px; padding-left: 20px;"><a href="http://liyanboss.javaeye.com/blog/guest_book">&gt;&gt;更多留言</a></span></h5>
                <ul>
                  
                    <li>
                      说的很详细，不过有一点就是：如果*.class文件不在Eclipse packag ...<br>
                      -- by <a href="http://liyanboss.javaeye.com/blog/guest_book#844">lisongyu</a>
                    </li>
                  
                    <li>
                      说的很详细，不过有一点就是：如果*.class文件不在Eclipse packag ...<br>
                      -- by <a href="http://liyanboss.javaeye.com/blog/guest_book#843">lisongyu</a>
                    </li>
                  
                </ul>              
              </div>
            
            <div id="blog_others">
              <h5>其他分类</h5>
              <ul>
                <li><a href="http://liyanboss.javaeye.com/blog/favorite">我的收藏</a> (78)</li>
                                
                                <li><a href="http://liyanboss.javaeye.com/blog/forum">我的论坛帖子</a> (30)</li>
                <li><a href="http://liyanboss.javaeye.com/blog/article">我的精华良好贴</a> (0)</li>
                              </ul>
            </div>
            
            <div id="recent_groups">
              <h5>最近加入圈子</h5>
              <ul>
                
              </ul>
            </div>
            
            
                          <div id="month_blogs">
                <h5>存档</h5>
                <ul>
                  
                    <li><a href="http://liyanboss.javaeye.com/blog/monthblog/2008-11">2008-11</a> (1)</li>
                  
                    <li><a href="http://liyanboss.javaeye.com/blog/monthblog/2008-08">2008-08</a> (1)</li>
                  
                    <li><a href="http://liyanboss.javaeye.com/blog/monthblog/2008-06">2008-06</a> (3)</li>
                  
                  <li><a href="http://liyanboss.javaeye.com/blog/monthblog_more">更多存档...</a></li>
                </ul>
              </div>
                        <div id="recent_comments">
              <h5>最新评论</h5>
              <ul>
                
                  <li>
                    <a href="http://liyanboss.javaeye.com/blog/183400#comments" title="struts2+spring2+hibernate3 Annotation的整合">struts2+spring2+hibernat ...</a><br>
                    caoyangx 写道&amp;nbsp;&amp;nbsp; 有那么吃惊吗？<br>
                    -- by <a href="http://liyanboss.javaeye.com/" target="_blank">liyanboss</a>
                  </li>
                
                  <li>
                    <a href="http://liyanboss.javaeye.com/blog/183400#comments" title="struts2+spring2+hibernate3 Annotation的整合">struts2+spring2+hibernat ...</a><br>
                    &nbsp;&nbsp; <br>
                    -- by <a href="http://jshow.javaeye.com/" target="_blank">caoyangx</a>
                  </li>
                
                  <li>
                    <a href="http://liyanboss.javaeye.com/blog/183400#comments" title="struts2+spring2+hibernate3 Annotation的整合">struts2+spring2+hibernat ...</a><br>
                    加struts2-spring-plugin-2.0.11.jar，web.xml ...<br>
                    -- by <a href="http://tiandis.javaeye.com/" target="_blank">tiandis</a>
                  </li>
                
                  <li>
                    <a href="http://liyanboss.javaeye.com/blog/180735#comments" title="在struts2中使用JasperReports">在struts2中使用JasperRe ...</a><br>
                    liukidd 写道如果数据量大，这种方法可行吗？你可以mock大量的数据，做个性 ...<br>
                    -- by <a href="http://liyanboss.javaeye.com/" target="_blank">liyanboss</a>
                  </li>
                
                  <li>
                    <a href="http://liyanboss.javaeye.com/blog/151317#comments" title="利用JavaMail收/发Gmail邮件(SSL)">利用JavaMail收/发Gmail ...</a><br>
                    我搞了两天，所有的例子都试验过，都是能发，但是标题为空，发附件都成一大片乱马，楼主 ...<br>
                    -- by <a href="http://black-zerg.javaeye.com/" target="_blank">black_zerg</a>
                  </li>
                
              </ul>
            </div>
            <div id="comments_top">
              <h5>评论排行榜</h5>
              <ul>
                
                  <li><a href="http://liyanboss.javaeye.com/blog/158597">hibernate结合spring怎么处理对象的延迟加 ...</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/blog/181282">在struts2中使用JFreeChart</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/blog/183400">struts2+spring2+hibernate3 Annotation的 ...</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/blog/202529">处理properties文件中key包含空格和等号的 ...</a></li>
                
                  <li><a href="http://liyanboss.javaeye.com/blog/197538">javascript模式对话框</a></li>
                
              </ul>
            </div>
            <div id="rss">
              <ul>
                <li><a href="http://liyanboss.javaeye.com/rss" target="_blank"><img alt="Rss" src="181282_files/rss.png"></a></li>
                <li><a href="http://fusion.google.com/add?feedurl=http://liyanboss.javaeye.com/rss" target="_blank"><img alt="Rss_google" src="181282_files/rss_google.gif"></a></li>
                <li><a href="http://www.zhuaxia.com/add_channel.php?url=http://liyanboss.javaeye.com/rss" target="_blank"><img alt="Rss_zhuaxia" src="181282_files/rss_zhuaxia.gif"></a></li>
                <li><a href="http://www.xianguo.com/subscribe.php?url=http://liyanboss.javaeye.com/rss" target="_blank"><img alt="Rss_xianguo" src="181282_files/rss_xianguo.jpg"></a></li>
                <li><a href="http://www.google.com/search?hl=zh-CN&amp;q=RSS">[什么是RSS?]</a></li>
              </ul>
            </div>
            <div class="local_bottom"></div>
          
        </div>
      </div>
      
      <div id="footer" class="clearfix">            	
        <div id="copyright">
          <hr>
          声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。<br>
          © 2003-2009 JavaEye.com.   All rights reserved. 上海炯耐计算机软件有限公司 [ 沪ICP备05023328号 ] 
        </div>
      </div>
    </div>
    <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="181282_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-535605-1");
pageTracker._setDomainName("javaeye.com");
pageTracker._initData();
pageTracker._trackPageview();
</script>

  </body></html>