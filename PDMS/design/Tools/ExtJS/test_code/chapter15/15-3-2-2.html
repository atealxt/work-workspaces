<html>
<head>
<title>Ext.ux.PortalColumn的演示</title>
<link rel="stylesheet" type="text/css" href="../../extjs2.0/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css" href="portal.css"/>
<script type="text/javascript" src="../../extjs2.0/adapter/ext/ext-base.js"></script>
<script type="text/javascript" src="../../extjs2.0/ext-all.js"></script>
<script type="text/javascript" src="miframe.js"></script>
<script type="text/javascript" src="Portal.js"></script>

<style type="text/css">
HR{
    clear: both;
    visibility: hidden
}
.block{
    border: 1px red solid;
    margin: 10px;
    min-height: 70px;
}
.item{
    border: 1px green solid;
    background: green;
    float: left;
    margin:10px;
    width: 200px;
    min-height: 50px;
    text-align: left;
}
</style>


<script type="text/javascript">
	Ext.onReady(function(){
		var paneTarget = new Ext.Panel({
			id : 'targ',
			title : '目标窗口',
			style : 'padding:0px 0px 0px 0px',
			layout : 'column',
			autoScroll : true,
			cls : 'x-portal',
			name : 'target panel',
			width : '100%',
			closable : true,
			renderTo : 'targetdiv',
			border : true,
			html : '<table cellspacing="5" height="165" cellpadding="5"><tr><td valign="top"></td></tr></table>'
		});
		paneTarget.render();		
		
		var paneProxy = new Ext.Panel({
			title : '可拖动窗口',
			style : 'padding:0px 0px 0px 0px',
			layout : 'column',
			autoScroll : true,
			cls : 'x-portal',
			name : 'my panel',
			width : '100%',
			border : true,
			renderTo : 'proxydiv',
			draggable : true,
			html : '<table cellspacing="5" height="150" cellpadding="5"><tr><td valign="top"><font size="2">我是可以被拖拽到任何地方的panel</font></td></tr></table>'
		});
		paneProxy.render();

		var proxy = new Ext.dd.DragSource('proxydiv',{group:'dd'});
		var target = new Ext.dd.DDTarget(paneTarget,'dd');
		
		proxy.afterDragDrop = function(target, e, id){
			var destEl = Ext.get(id);
			var srcEl = Ext.get(proxy.getEl());
			srcEl.insertBefore(destEl);
		};
	});
</script>
</head>
<body>
	<div id="targetdiv" class="block"></div>
	<div id="proxydiv" class="item"></div>
</body>
</html>
