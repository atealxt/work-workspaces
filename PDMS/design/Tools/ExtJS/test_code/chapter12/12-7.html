<HTML>
 <HEAD>
  <TITLE>可编辑表格面板EditorGridPanel</TITLE>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="../../extjs2.0/resources/css/ext-all.css" />
  <script type="text/javascript" src="../../extjs2.0/adapter/ext/ext-base.js"></script>
  <script type="text/javascript" src="../../extjs2.0/ext-all.js"></script>
  <script type="text/javascript" src="../../extjs2.0/source/locale/ext-lang-zh_CN.js"></script>
  <script type="text/javascript">
	Ext.onReady(function(){
		Ext.BLANK_IMAGE_URL = '../../extjs2.0/resources/images/default/s.gif';
		Ext.QuickTips.init();
		Ext.form.Field.prototype.msgTarget = 'qtip';//统一指定错误信息提示方式
		//创建表格数据
		var data = [
			[1,'张三','男',new Date(1979,09,13),29,'zhang@abc.com'],
			[2,'李四','女',new Date(1978,10,01),30,'li@abc.com'],
			[3,'王五','男',new Date(1981,01,01),27,'wang@abc.com']
		];
		//创建记录类型Person，mapping值为字段值对应数组中数据的索引位置
		var Person = Ext.data.Record.create([
			{name: 'personId',mapping: 0},
			{name: 'personName',mapping: 1},
			{name: 'personSex',mapping: 2},
			{name: 'personBirthday',mapping: 3},
			{name: 'personAge',mapping: 4},
			{name: 'personEmail',mapping: 5}
		]);
		//创建Grid表格组件
		var grid = new Ext.grid.EditorGridPanel({
			title : 'Ext.grid.EditorGridPanel',
			applyTo : 'grid-div',
			width:430,
			height:180,
			frame:true,
			store: new Ext.data.Store({//配置数据集
				reader: new Ext.data.ArrayReader({id:0},Person),
				data: data
			}),
			columns: [//配置表格列
				{header: "id", width: 40, dataIndex: 'personId'},
				{header: "姓名", width: 70, dataIndex: 'personName',
					editor:new Ext.form.TextField({
						allowBlank : false
					})
				},
				{header: "性别", width: 40, dataIndex: 'personSex',
					editor:new Ext.form.ComboBox({
						editable : false,
						displayField:'sex',
						mode: 'local',
						triggerAction: 'all',
						store:new Ext.data.SimpleStore({
							fields: ['sex'],
							data : [['男'],['女']]
						})
					})
				},
				{header: "生日", width: 100, dataIndex: 'personBirthday',
					editor:new Ext.form.DateField(),
					renderer:Ext.util.Format.dateRenderer('Y年m月d日')
				},
				{header: "年龄", width: 40, dataIndex: 'personAge',
					editor:new Ext.form.NumberField()
				},
				{header: "电子邮件", width: 120, dataIndex: 'personEmail',
					editor:new Ext.form.TextField({
						vtype:'email'
					})
				}
			]
		})
	});
  </script>
 </HEAD>
 <BODY style="margin=10 10 10 10;">
	<div id='grid-div'></div>
 </BODY>
</HTML>
