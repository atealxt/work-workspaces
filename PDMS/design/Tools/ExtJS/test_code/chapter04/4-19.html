<HTML>
 <HEAD>
  <TITLE>表单加载</TITLE>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="../../extjs2.0/resources/css/ext-all.css" />
  <script type="text/javascript" src="../../extjs2.0/adapter/ext/ext-base.js"></script>
  <script type="text/javascript" src="../../extjs2.0/ext-all.js"></script>
  <script type="text/javascript" src="../../extjs2.0/source/locale/ext-lang-zh_CN.js"></script>
  <script type="text/javascript">
	Ext.onReady(function(){
		Ext.BLANK_IMAGE_URL = '../../extjs2.0/resources/images/default/s.gif';
		Ext.QuickTips.init();
		Ext.form.Field.prototype.msgTarget = 'side';//统一指定错误信息提示方式
		var productForm = new Ext.form.FormPanel({
			title:'表单加载示例',
			labelWidth : 100,//标签宽度
			width : 300,
			frame : true,
			labelSeparator :'：',//分隔符
			applyTo :'form',
			items:[
				new Ext.form.TextField({
					fieldLabel:'产品名称',
					name : 'productName',
					width : 150,
					value:'U盘'//同步加载数据
				}),
				new Ext.form.NumberField({
					fieldLabel:'金额',
					name : 'price',
					width : 150,
					value : 100//同步加载数据
				}),
				new Ext.form.DateField({
					fieldLabel:'生产日期',
					format:'Y年m月d日',//显示日期的格式
					width : 150,
					name : 'date',
					value : new Date()//同步加载数据
				}),
				new Ext.form.TextArea({
					id : 'introduction',
					name : 'introduction',
					fieldLabel:'产品简介',
					width : 150//异步加载数据
				})
			],
			buttons:[
				new Ext.Button({
					text : '加载简介',
					handler : loadCallBack
				})
			]
		});
		//表单加载数据的回调函数
		function loadCallBack(){
			productForm.form.load({
				waitMsg : '正在加载产品简介信息',//提示信息
				waitTitle : '提示',//标题
				url : 'productServer.jsp',//请求的url地址
				method:'GET',//请求方式
				success:function(form,action){//加载成功的处理函数
					Ext.Msg.alert('提示','产品简介加载成功');
				},
				failure:function(form,action){//加载失败的处理函数
					Ext.Msg.alert('提示','产品简介加载失败<br>失败原因：'+action.failureType);
				}
			});
		}
	});
  </script>
 </HEAD>
 <BODY>
 	<div style="padding: 20 20 20 20"><div id='form'/></div>
 </BODY>
</HTML>
