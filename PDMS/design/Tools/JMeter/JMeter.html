<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><title>使用JMeter进行性能测试</title><!-- s-header-meta  for china -->
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico">
<meta name="Owner" content="dw@cn.ibm.com">
<meta name="DC.Language" scheme="rfc1766" content="zh-CN">
<meta name="IBM.Country" content="CN">
<meta name="Security" content="Public">
<!-- 5.8 0421 egd: Added IBM.Special.Purpose meta tag and the meta tag to suppress the WI login in the masthead -->
<meta name="IBM.SpecialPurpose" content="SP001">
<meta name="IBM.PageAttributes" content="sid=1003"><meta name="Abstract" content="JMeter 是 Apache 组织的开放源代码项目，它是功能和性能测试的工具，100%的用java实现，最新的版本是1.9.1。本文中作者将向大家介绍如何使用 JMeter 进行测试。"><meta name="Description" content="JMeter 是 Apache 组织的开放源代码项目，它是功能和性能测试的工具，100%的用java实现，最新的版本是1.9.1。本文中作者将向大家介绍如何使用 JMeter 进行测试。"><meta name="Keywords" content="JMeter 性能测试,, tttjca"><meta name="DC.Date" scheme="iso8601" content="2004-02-13"><meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT316"><meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="TT300"><meta name="DC.Rights" content="Copyright (c) 2004 by IBM Corporation"> <meta name="Robots" content="index,follow"><meta name="IBM.Effective" scheme="W3CDTF" content="2004-02-13"><meta name="Last update" content="29092008zoucl@cn.ibm.com"><!-- STYLESHEETS/SCRIPTS -->
<!-- for tables -->
<link rel="stylesheet" type="text/css" media="screen,print" href="JMeter_files/table.css"> 
<!-- end for tables -->
<script language="JavaScript" src="JMeter_files/dwcss14.js" type="text/javascript"></script><link rel="stylesheet" href="JMeter_files/r1v14.css" type="text/css">
<link rel="stylesheet" type="text/css" href="JMeter_files/main.css">
<link rel="stylesheet" type="text/css" media="all" href="JMeter_files/screen.css">
<link rel="stylesheet" type="text/css" media="print" href="JMeter_files/print.css">
<script type="text/javascript" src="JMeter_files/ibmcommon.js">//</script><link title="IBM Search" href="http://www.ibm.com/search/opensearch/description.xml" type="application/opensearchdescription+xml" rel="search">
<script language="JavaScript" src="JMeter_files/detection.js" type="text/javascript"></script>
<script language="JavaScript" src="JMeter_files/dropdown.js" type="text/javascript"></script>
<script language="JavaScript" src="JMeter_files/grabtitle.js" type="text/javascript"></script>
<script language="JavaScript" src="JMeter_files/emailfriend2.js" type="text/javascript"></script><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><script language="javascript" src="JMeter_files/ajax1.js" type="text/javascript"></script><script language="javascript" src="JMeter_files/searchcount.js" type="text/javascript"></script><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><script language="JavaScript" type="text/javascript">var emailAbstract = "JMeter 是 Apache 组织的开放源代码项目，它是功能和性能测试的工具，100%的用java实现，最新的版本是1.9.1。本文中作者将向大家介绍如何使用 JMeter 进行测试。"; </script></head><body><!--MASTHEAD_BEGIN--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr valign="top"><td class="bbg" width="110"><a href="http://www.ibm.com/cn/"><img alt="IBM®" src="JMeter_files/ibm-logo.gif" border="0" height="52" width="110"></a></td><td class="bbg"><img src="JMeter_files/c.gif" alt="" border="0" height="1" width="1"></td><td class="mbbg" align="right" width="650"><table align="right" border="0" cellpadding="0" cellspacing="0"><tbody><tr class="cty-tou"><td rowspan="2" class="upper-masthead-corner" width="17"><a href="#main"><img src="JMeter_files/c.gif" alt="跳转到主要内容" border="0" height="1" width="1"></a></td><td align="left"><table align="left" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><span class="spacer">&nbsp;&nbsp;&nbsp;&nbsp;</span><b class="country">中国</b><span class="spacer">&nbsp;[</span><a class="ur-link" href="http://www.ibm.com/developerworks/cn/country/">选择</a><span class="spacer">]</span></td><td class="upper-masthead-divider" width="29">&nbsp;&nbsp;&nbsp;&nbsp;</td><td align="left"><a class="ur-link" href="http://www.ibm.com/legal/cn/">使用条款</a></td></tr></tbody></table></td><td width="40">&nbsp;</td></tr><tr><td class="cty-tou-border" colspan="2" height="1"><img src="JMeter_files/c.gif" alt="" height="1" width="1"></td></tr><tr><td colspan="3"><img alt="" src="JMeter_files/c.gif" height="8" width="1"></td></tr><tr><td>&nbsp;</td><td colspan="2" align="center"><form method="get" action="http://www-128.ibm.com/developerworks/search/searchResults.jsp" id="form1" name="form1"><input name="searchType" value="1" type="hidden"><input name="searchSite" value="dWChina" type="hidden"><input name="pageLang" value="zh" type="hidden"><input name="langEncoding" value="UTF8" type="hidden"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="1"><img src="JMeter_files/c.gif" alt="Select a scope:" height="1" width="1"></td><td align="right">

<label for="sq">
<select id="sq" name="searchScope" class="input-scope">
<option value="dW" selected="selected">dW 全部内容</option>
<option value="dW">-----------------</option>
<option value="aixunix">&nbsp;&nbsp;AIX and UNIX</option>
<option value="dmdd">&nbsp;&nbsp;Information management</option>
<option value="lotusdd">&nbsp;&nbsp;Lotus</option>
<option value="rdd">&nbsp;&nbsp;Rational</option>
<option value="wsdd">&nbsp;&nbsp;WebSphere</option>
<option value="dW">-----------------</option>
<option value="archZ">&nbsp;&nbsp;Architecture</option>
<option value="gridZ">&nbsp;&nbsp;Grid computing</option>
<option value="javaZ">&nbsp;&nbsp;Java 技术</option>
<option value="linuxZ">&nbsp;&nbsp;Linux</option>
<option value="paZ">&nbsp;&nbsp;Multicore acceleration</option>
<option value="opensrcZ">&nbsp;&nbsp;Open source</option>
<option value="securityZ">&nbsp;&nbsp;Security</option>
<option value="webservZ">&nbsp;&nbsp;SOA &amp; Web services</option>
<option value="webarchZ">&nbsp;&nbsp;Web development</option>
<option value="xmlZ">&nbsp;&nbsp;XML</option>
<option value="dW">-----------------</option>
<option value="all">IBM 全部内容</option>
</select>
</label></td><td align="right" width="1"><img src="JMeter_files/c.gif" alt="Search for:" height="1" width="1">&nbsp;&nbsp;</td><td align="right"><input class="input" id="q" maxlength="100" name="query" size="15" value="" type="text"></td><td width="7">&nbsp;</td><td><label for="q"><input alt="搜索" name="Search" src="JMeter_files/search.gif" value="搜索" type="image"></label></td><td width="20">&nbsp;</td></tr></tbody></table></form></td></tr></tbody></table></td></tr><tr><td class="blbg" colspan="3"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><span class="spacer">&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td><a class="masthead-mainlink" href="http://www.ibm.com/cn/">首页</a></td><td class="masthead-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a class="masthead-mainlink" href="http://www.ibm.com/products/cn/">产品</a></td><td class="masthead-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a class="masthead-mainlink" href="http://www.ibm.com/servicessolutions/cn/">服务与解决方案</a></td>	<td class="masthead-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a class="masthead-mainlink" href="http://www.ibm.com/support/cn/">支持与下载</a></td><td class="masthead-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a class="masthead-mainlink" href="http://www.ibm.com/account/cn/">个性化服务</a></td><td><span class="spacer">&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table><!--
<script src="//www.ibm.com/common/v14/pmh.js" language="JavaScript" type="text/javascript"></script>
-->
<!-- end masthead dw liquid -->
<!--MASTHEAD_END--><!-- CMA ID: 53302 --> <!-- Site ID: 10 --><table id="v14-body-table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr valign="top"><!--LEFTNAV_BEGIN--><td id="navigation" width="150"><table border="0" cellpadding="0" cellspacing="0" width="150"><tbody><tr><td class="left-nav-spacer"><a href="http://www.ibm.com/developerworks/cn/" class="left-nav-overview">&nbsp;</a></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" width="150"><tbody><tr><td colspan="2" class="left-nav-overview"><a href="http://www.ibm.com/developerworks/cn/" class="left-nav-overview">developerWorks<br>中国</a></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" width="150"><tbody><tr><td colspan="2" class="left-nav-highlight"><a href="#" class="left-nav">本文内容包括：</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#1" class="left-nav-child">JMeter作用领域</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#2" class="left-nav-child">使用JMeter测试Web应用</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#3" class="left-nav-child">总结</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#4" class="left-nav-child">工具下载：</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#resources" class="left-nav-child">参考资料 </a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#author" class="left-nav-child">关于作者</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" src="JMeter_files/cl-bullet.gif" height="8" width="2"></td><td><a href="#rate" class="left-nav-child">对本文的评价</a></td></tr><tr class="left-nav-last"><td width="14"><img class="display-img" alt="" src="JMeter_files/c.gif" height="1" width="14"></td><td width="136"><img class="display-img" alt="" src="JMeter_files/left-nav-corner.gif" height="19" width="136"></td></tr></tbody></table><br><table border="0" cellpadding="0" cellspacing="0" width="150"><tbody><tr><td class="related" colspan="2"><b class="related">相关链接：</b></td></tr><tr class="rlinks"><td><img alt="" src="JMeter_files/rl-bullet.gif" height="8" width="2"></td><td><a class="rlinks" href="http://www.ibm.com/developerworks/cn/views/java/articles.jsp">Java technology 技术文档库</a></td></tr><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- No content currently --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><tr><td width="14"><img class="display-img" alt="" src="JMeter_files/c.gif" height="1" width="14"></td><td width="136"><img class="display-img" alt="" src="JMeter_files/c.gif" height="19" width="136"></td></tr></tbody></table><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- Next Steps Area:  Start -->
<!-- Commented out the include call in the dwmaster version of this file to prevent ajax calls
     being made during article previews and testing.  Live site has uncommented copy of this file (jpp) -->
<!-- Call Next Steps Servlet -->
<script language="JavaScript" type="text/javascript">
<!--
/*
 * ajaxInclude makes a call to the url and render the results in the div tag specified in divId
 */
function ajaxInclude(url, divId) { 
 var req = newXMLHttpRequest(); 
 if (req) { 
   req.onreadystatechange = getReadyStateHandler(req, 
	function (result) {  
           var contents = document.getElementById(divId);  
           if (result != null && result.length > 0 && contents != null) {
	     contents.innerHTML = result;  
           }
        }); 
   req.open("GET", url, true);
   req.send("");
 }
}
//-->
</script>

<!-- Display Next Steps Result -->
<div id="nextsteps">





















<table border="0" cellpadding="0" cellspacing="0" width="70%"><tbody><tr><td><img src="JMeter_files/c.gif" alt="" height="1" width="1"></td></tr></tbody></table>
</div>

<!-- Initiate Next Steps Call -->
<script language="JavaScript" type="text/javascript">
<!-- 
 ajaxInclude("/developerworks/niagara/jsp/getNiagaraContent.jsp?url="+window.location.href,"nextsteps");
//-->
</script>
<!-- Next Steps Area:  End --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--></td><!--LEFTNAV_END--><td width="100%"><table id="content-table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr valign="top"><td width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><a name="main"><img alt="跳转到主要内容" src="JMeter_files/c.gif" border="0" height="1" width="592"></a></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr valign="top"><td height="18" width="10"><img alt="" src="JMeter_files/c.gif" height="18" width="10"></td><td width="100%"><img alt="" src="JMeter_files/c.gif" height="6" width="1"><br><a href="http://www.ibm.com/developerworks/cn/" class="bctl">developerWorks 中国</a><span class="bct">&nbsp;&nbsp;&gt;&nbsp;&nbsp;</span><a class="bctl" href="http://www.ibm.com/developerworks/cn/java/">Java technology</a><span class="bct">&nbsp;&nbsp;&gt;</span><img alt="" src="JMeter_files/c.gif" height="1" width="1"><br><h1>使用JMeter进行性能测试</h1><img alt="" src="JMeter_files/c.gif" class="display-img" height="6" width="1"></td><td class="no-print" width="192"><img alt="developerWorks" src="JMeter_files/dw.gif" height="18" width="192"></td></tr></tbody></table></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr valign="top"><td width="10"><img alt="" src="JMeter_files/c.gif" height="1" width="10"></td><td width="100%"><table class="no-print" align="right" border="0" cellpadding="0" cellspacing="0" width="160"><tbody><tr><td width="10"><img alt="" src="JMeter_files/c.gif" height="1" width="10"></td><td><table border="0" cellpadding="0" cellspacing="0" width="150"><tbody><tr><td class="v14-header-1-small">文档选项</td></tr></tbody></table><table class="v14-gray-table-border" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="no-padding" width="150"><noscript></noscript><noscript><tr
valign="top"><td width="8"><img alt="" height="1" width="8"
src="//www.ibm.com/i/c.gif"/></td><td width="16"><img alt="" width="16"
height="16" src="//www.ibm.com/i/c.gif"/></td><td class="small"
width="122"><p><span class="ast">未显示需要 JavaScript
的文档选项</span></p></td></tr></noscript><table border="0" cellpadding="0" cellspacing="0" width="143"><script language="JavaScript" type="text/javascript">
<!--
document.write('<tr valign="top"><td width="8"><img src="//www.ibm.com/i/c.gif" width="8" height="1" alt=""/></td><td width="16"><img alt="将打印机的版面设置成横向打印模式" height="16" src="//www.ibm.com/i/v14/icons/printer.gif" width="16" vspace="3" /></td><td width="122"><p><b><a class="smallplainlink" href="javascript:print()">打印本页</a></b></p></td></tr>');
//-->
</script><tbody><tr valign="top"><td width="8"><img src="JMeter_files/c.gif" alt="" height="1" width="8"></td><td width="16"><img alt="将打印机的版面设置成横向打印模式" src="JMeter_files/printer.gif" height="16" vspace="3" width="16"></td><td width="122"><p><b><a class="smallplainlink" href="javascript:print()">打印本页</a></b></p></td></tr>
<form action="https://www.ibm.com/developerworks/secure/email-it.jsp" name="email"></form><input value="JMeter 是 Apache 组织的开放源代码项目，它是功能和性能测试的工具，100%的用java实现，最新的版本是1.9.1。本文中作者将向大家介绍如何使用 JMeter 进行测试。" name="body" type="hidden"><input value="使用JMeter进行性能测试" name="subject" type="hidden"><input value="cn" name="lang" type="hidden"><script language="JavaScript" type="text/javascript">
<!--
document.write('<tr valign="top"><td width="8"><img src="//www.ibm.com/i/c.gif" width="8" height="1" alt=""/></td><td width="16"><img src="//www.ibm.com/i/v14/icons/em.gif" height="16" width="16" vspace="3" alt="将此页作为电子邮件发送" /></td><td width="122"><p><a class="smallplainlink" href="javascript:document.email.submit();"><b>将此页作为电子邮件发送</b></a></p></td></tr>');
//-->
</script><tr valign="top"><td width="8"><img src="JMeter_files/c.gif" alt="" height="1" width="8"></td><td width="16"><img src="JMeter_files/em.gif" alt="将此页作为电子邮件发送" height="16" vspace="3" width="16"></td><td width="122"><p><a class="smallplainlink" href="javascript:document.email.submit();"><b>将此页作为电子邮件发送</b></a></p></td></tr></tbody></table></td></tr></tbody></table><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- this content will be automatically generated across all content areas --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><br></td></tr></tbody></table><p>级别： 初级</p><p><a href="#author">肖菁</a> (<a href="mailto:jing.xiao@chinacreator.com?subject=%E4%BD%BF%E7%94%A8JMeter%E8%BF%9B%E8%A1%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95&amp;cc=jing.xiao@chinacreator.com">jing.xiao@chinacreator.com</a>), 软件工程师<br></p><p>2004 年  2 月  13 日</p><blockquote>JMeter 是 Apache 组织的开放源代码项目，它是功能和性能测试的工具，100%的用java实现，最新的版本是1.9.1。本文中作者将向大家介绍如何使用 JMeter 进行测试。</blockquote><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- include java script once we verify teams wants to use this and it will work on dbcs and cyrillic characters -->

<!--END RESERVED FOR FUTURE USE INCLUDE FILES-->

            <p>JMeter是Apache组织的开放源代码项目，它是功能和性能测试的工具，100%的用java实现，最新的版本是1.9.1，大家可以到
        <a href="http://jakarta.apache.org/jmeter/index.html">http://jakarta.apache.org/jmeter/index.html</a>下载源代码和查看相关文档。
      </p>
            <p><a name="1"><span class="atitle">JMeter作用领域</span></a></p>
            <p>
            </p><p>JMeter
可以用于测试静态或者动态资源的性能（文件、Servlets、Perl脚本、java对象、数据库和查询、ftp服务器或者其他的资源）。JMeter
用于模拟在服务器、网络或者其他对象上附加高负载以测试他们提供服务的受压能力，或者分析他们提供的服务在不同负载条件下的总性能情况。你可以用
JMeter提供的图形化界面分析性能指标或者在高负载情况下测试服务器/脚本/对象的行为。</p>
            <br><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><img src="JMeter_files/blue_rule.gif" alt="" height="1" width="100%"><br><img alt="" src="JMeter_files/c.gif" border="0" height="6" width="8"></td></tr></tbody></table><table class="no-print" align="right" cellpadding="0" cellspacing="0"><tbody><tr align="right"><td><img src="JMeter_files/c.gif" alt="" height="4" width="100%"><br><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td valign="middle"><img src="JMeter_files/u_bold.gif" alt="" border="0" height="16" width="16"><br></td><td align="right" valign="top"><a href="#main" class="fbox"><b>回页首</b></a></td></tr></tbody></table></td></tr></tbody></table><br><br><p><a name="2"><span class="atitle">使用JMeter测试Web应用</span></a></p>
            <p>
            </p><p>接下来的章节里，作者将详细的演示如何使用JMeter来测试Web应用的完整过程。</p>
            <p><a name="N1005C"><span class="smalltitle">2.1	测试环境</span></a></p>
            <p>
            </p><p>作
者使用了Tomcat作为Web服务器进行测试，被测试的内容是一个jsp文件和一个servlet，jsp文件调用JavaBean、打印相关信
息，servlet接受用户参数、调用javabean、输出相关信息。详细的内容请参考作者提供的JMeter.war的内容。</p>
            <p><a name="N10067"><span class="smalltitle">2.2	安装启动JMeter</span></a></p>
            <p>
            </p><p>大
家可以到通过http://apache.linuxforum.net/dist/jakarta/jmeter/binaries/jakarta-
jmeter-1.9.1.zip下载JMeter的release版本，然后将下载的.zip文件解压缩到C:/JMeter（后面的文章中将使
用%JMeter%来引用这个目录）目录下。</p>
            <p>现在，请使用%JMeter%/bin下面的jmeter.bat批处理文件来启动JMeter的可视化界面，下面的工作都将在这个可视化界面界面上进行操作。下面的图片是JMeter的可视化界面的屏幕截图。</p>
            
                <br><a name="N10077"><b>图一： JMeter打开时的屏幕截图</b></a><br>
                <img alt="图一： JMeter打开时的屏幕截图" src="JMeter_files/image001.png" height="371" width="408">
            <br>
            <p><a name="N10084"><span class="smalltitle">2.3	建立测试计划（Test Plan）</span></a></p>
            <p>
            </p><p>测
试计划描述了执行测试过程中JMeter的执行过程和步骤，一个完整的测试计划包括一个或者多个线程组(Thread
Groups)、逻辑控制（Logic Controller）、实例产生控制器（Sample Generating
Controllers）、侦听器(Listener)、定时器（Timer）、比较（Assertions）、配置元素（Config
Elements）。打开JMeter时，它已经建立一个默认的测试计划,一个JMeter应用的实例只能建立或者打开一个测试计划。</p>
            <p>现在我们开始填充一个测试计划的内容，这个测试计划向一个jsp文件和一个servlet发出请求，我们需要JMeter模拟五个请求者（也就是五个线程），每个请求者连续请求两次，下面的章节介绍了详细的操作步骤。</p>
            <p><a name="N10092"><span class="smalltitle">2.4	增加负载信息设置</span></a></p>
            <p>
            </p><p>这一步，我们将向测试计划中增加相关负载设置,是Jmeter知道我们需要模拟五个请求者，每个请求者在测试过程中连续请求两次。详细步骤如下：</p>
            <p>1.	选中可视化界面中左边树的Test Plan节点，单击右键，选择Add'Thread Group，界面右边将会出现他的设置信息框。</p>
            <p>2.	Thread Group有三个和负载信息相关的参数：
        <br>
Number of Threads： 设置发送请求的用户数目
        <br>
Ramp-up period：   每个请求发生的总时间间隔，单位是秒。比如你的请求数目是5，而这个参数是10，那么每个请求之间的间隔就是10／5，也就是2秒
        <br>
Loop Count：      请求发生的重复次数，如果选择后面的forever（默认），那么		请求将一直继续，如果不选择forever，而在输入框中输入数字，那么请求将重复		指定的次数，如果输入0，那么请求将执行一次。
      </p>
            <p>根据我们演示例子的设计，我们应该将Number of Threads设置为5，Ramp-up period设置为0（也就是同时并发请求），不选中forever，在Loop Count后面的输入框中输入2，设置后的屏幕截图如下：</p>
            
                <br><a name="N100AE"><b>图二：设置好参数的Thread Group。</b></a><br>
                <img alt="图二：设置好参数的Thread Group。" src="JMeter_files/image003.png" height="218" width="447">
            <br>
            <p><a name="N100BB"><span class="smalltitle">2.5	增加默认Http属性（可选）</span></a></p>
            <p>
            </p><p>实际的测试工作往往是针对同一个服务器上Web应用展开的,所以Jmeter提供了这样一种设置, 在默认Http属性设置需要被测试服务器的相关属性，以后的http请求设置中就可以忽略这些相同参数的设置,减少设置参数录入的时间。</p>
            <p>我们这里将采用这种属性。你可以通过下面的步骤来设置默认http属性：</p>
            <p>1.	选中可视化界面中左边树的Test Plan节点，单击右键，选择Add'config element'http request defaults，界面右边将会出现他的设置信息框。</p>
            <p>2.	默认http属性的主要参数说明如下：
        <br>
protocal：发送测试请求时使用的协议
        <br>
server name or ip：被测试服务器的ip地址或者名字
        <br>
path： 默认的起始位置。比如将path设置为／jmeter，那么所有的http请求的url中都将增加／jmeter路径。
        <br>
port number： 服务器提供服务的端口号
      </p>
            <p>我
们的测试计划将针对本机的Web服务器上的Web应用进行测试，所以protocal应该是http，ip使用localhost，因为这个web应用发
布的context路径是／jmeter，所以这里的path设置为／jmeter，因为使用Tomcat服务器，所以port
number是8080。设置后的屏幕截图如下：</p>
            
                <br><a name="N100DC"><b>图三： 测试计划中使用的默认Http参数</b></a><br>
                <img alt="图三： 测试计划中使用的默认Http参数" src="JMeter_files/image005.png" height="176" width="500">
            <br>
            <p><a name="N100E9"><span class="smalltitle">2.6	增加Http请求</span></a></p>
            <p>
            </p><p>现在我们需要增加http请求了，他也是我们测试的内容主体部分。你可以通过下面的步骤来增加性的http请求：</p>
            <p>1.	选中可视化界面中左边树的Thread Group节点，单击右键，选择Add'sampler'http request，界面右边将会出现他的设置信息框。</p>
            <p>2.	他的参数和2.5中介绍的http属性差不多，增加的属性中有发送http时方法的选择，你可以选择为get或者post。</p>
            <p>我们现在增加两个http 请求，因为我们设置了默认的http属性，所以和默认http属性中相同的属性不再重复设置。设置后的屏幕截图如下：</p>
            
                <br><a name="N100FF"><b>图四：设置好的jsp测试请求</b></a><br>
                <img alt="图四：设置好的jsp测试请求" src="JMeter_files/image007.png" height="362" width="506">
            <br>
            
                <br><a name="N1010E"><b>图五：设置好的Servlet测试请求（带参数）</b></a><br>
                <img alt="图五：设置好的Servlet测试请求（带参数）" src="JMeter_files/image009.png" height="364" width="505">
            <br>
            <p><a name="N1011B"><span class="smalltitle">2.7	增加Listener</span></a></p>
            <p>
            </p><p>增
加listener是为了记录测试信息并且可以使用Jmeter提供的可视化界面查看测试结果，里面有好几种结果分析方式可供选择，你可以根据自己习惯的
分析方式选择不同的结果显示方式，我们这里使用表格的形式来查看和分析测试结果。你可以通过下面的步骤来增加listener：</p>
            <p>1.	选中可视化界面中左边树的Test Plan节点，单击右键，选择Add'listener'view result in table，界面右边将会出现他的设置信息和结果显示框。</p>
            <p>2.	你可以设置界面上面的filename属性设置将测试结果保存到某个文件中
界面下面将使用表格显示测试结果，表格的第一列sampleno显示请求执行的顺序和编号，url显示请求发送的目标，sample－ms列显示这个请求完成耗费的时间，最后的success列显示改请求是否成功执行。</p>
            <p>界面的最下面你还可以看到一些统计信息，最关心的应该是Average吧，也就是相应的平均时间。</p>
            <p><a name="N1012F"><span class="smalltitle">2.8	开始执行测试计划</span></a></p>
            <p>
            </p><p>现在你可以通过单击菜单栏run -&gt; Start开始执行测试计划了。下面这两个图是作者第一次、第二次执行该测试计划的结果图:</p>
            
                <br><a name="N1013C"><b>图六：第一次执行后的结果显示</b></a><br>
                <img alt="图六：第一次执行后的结果显示" src="JMeter_files/image011.png" height="453" width="564">
            <br>
            
                <br><a name="N1014B"><b>图七：第二次执行的结果显示</b></a><br>
                <img alt="图七：第二次执行的结果显示" src="JMeter_files/image013.png" height="456" width="564">
            <br>
            <p>大家可以看到第一次执行时的几个大时间值均来自于jsp request，这可以通过下面的理由进行解释：jsp执行前都需要被编译成.class文件。所以第二次的结果才是正常的结果。</p>
            <br><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><img src="JMeter_files/blue_rule.gif" alt="" height="1" width="100%"><br><img alt="" src="JMeter_files/c.gif" border="0" height="6" width="8"></td></tr></tbody></table><table class="no-print" align="right" cellpadding="0" cellspacing="0"><tbody><tr align="right"><td><img src="JMeter_files/c.gif" alt="" height="4" width="100%"><br><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td valign="middle"><img src="JMeter_files/u_bold.gif" alt="" border="0" height="16" width="16"><br></td><td align="right" valign="top"><a href="#main" class="fbox"><b>回页首</b></a></td></tr></tbody></table></td></tr></tbody></table><br><br><p><a name="3"><span class="atitle">总结</span></a></p>
            <p>
            </p><p>JMeter用于进行供能或者性能测试，通过使用JMeter提供的供能，我们可以可视化的制定测试计划：包括规定使用什么样的负载、测试什么内容、传入的参数，同时，他提供了好多种图形化的测试结果显示方式，使我们能够简单的开始测试工作和分析测试结果。</p>
            <p>本
文中，作者根据自己的使用经验，详细演示了如何使用JMeter来进行Web测试的全部过程，简单的介绍了JMeter提供测试结果的图形化显示界面中相
关参数的含义。希望能够帮助大家学会使用JMeter的基本知识，同时，大家可以参考这个过程和JMeter的帮助文档来实现对java对象、数据库等的
测试过程。</p>
            <br><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><img src="JMeter_files/blue_rule.gif" alt="" height="1" width="100%"><br><img alt="" src="JMeter_files/c.gif" border="0" height="6" width="8"></td></tr></tbody></table><table class="no-print" align="right" cellpadding="0" cellspacing="0"><tbody><tr align="right"><td><img src="JMeter_files/c.gif" alt="" height="4" width="100%"><br><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td valign="middle"><img src="JMeter_files/u_bold.gif" alt="" border="0" height="16" width="16"><br></td><td align="right" valign="top"><a href="#main" class="fbox"><b>回页首</b></a></td></tr></tbody></table></td></tr></tbody></table><br><br><p><a name="4"><span class="atitle">工具下载：</span></a></p>
            <p>
            </p><p>1.	tomcat
        <a href="http://jakarta.apache.org/tomcat/index.html">http://jakarta.apache.org/tomcat/index.html</a>
            </p>
            <p>2.	JMeter
        <a href="http://jakarta.apache.org/jmeter/index.html">http://jakarta.apache.org/jmeter/index.html</a>
            </p>
        <br><br><p><a name="resources"><span class="atitle">参考资料 </span></a></p>
            <p>JMeter 的用户指南 ：
        <a href="http://jakarta.apache.org/jmeter/usermanual/index.html">http://jakarta.apache.org/jmeter/usermanual/index.html</a>
            </p>
        <br><br><p><a name="author"><span class="atitle">关于作者</span></a></p><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td colspan="3"><img alt="" src="JMeter_files/c.gif" height="5" width="100%"></td></tr><tr align="left" valign="top"><td><p></p></td><td><img alt="" src="JMeter_files/c.gif" height="5" width="4"></td><td width="100%"><p>肖菁，<a href="http://www.vivianj.org/">唯 J 族创始人</a>，开源项目 <a href="http://buildfiledesign.sourceforge.net/">BuildFileDesigner</a>、<a href="http://v-security.sourceforge.net/">V-Security</a>
创始人，Open Source 推广人，主要研究 J2EE 编程技术、Web Service 技术以及他们在
WebSphere、WebLogic、 Apache 平台上的实现，拥有 IBM 的 Developing With Websphere
Studio 证书。
</p></td></tr></tbody></table><br><br><br><p class="no-print"><span class="atitle"><a name="rate">对本文的评价</a></span></p><span class="no-print"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr valign="top"><td><form action="https://www.ibm.com/developerworks/secure/cnratings.jsp" method="get"><input value="使用JMeter进行性能测试" name="ArticleTitle" type="hidden"><input value="Java technology" name="Zone" type="hidden"><input value="http://www.ibm.com/developerworks/cn/thankyou/" name="RedirectURL" type="hidden"><input value="china" name="localsite" type="hidden"><script language="javascript">document.write('<input type="hidden" name="url" value="'+location.href+'" />');</script><input name="url" value="http://www.ibm.com/developerworks/cn/java/l-jmeter/" type="hidden"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><img alt="" src="JMeter_files/c.gif" border="0" height="8" width="100"></td></tr><tr valign="top"><td><input value="1" name="Rating" type="radio">太差！ (1)</td></tr><tr valign="top"><td><input value="2" name="Rating" type="radio">需提高 (2)</td></tr><tr valign="top"><td><input value="3" name="Rating" type="radio">一般；尚可 (3)</td></tr><tr valign="top"><td><input value="4" name="Rating" type="radio">好文章 (4)</td></tr><tr valign="top"><td><input value="5" name="Rating" type="radio">真棒！(5)</td></tr></tbody></table><br><b>建议？</b><br><textarea cols="60" rows="5" wrap="virtual" id="Comments" name="Comments">&nbsp;</textarea><br><br><input value="反馈意见" type="submit"></form></td></tr><tr valign="top"><td bgcolor="#ffffff"><img alt="" src="JMeter_files/c.gif" border="0" height="8" width="100"></td></tr></tbody></table></span><br><p><!-- --></p><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><br><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><br><span class="no-print"><table align="right" cellpadding="0" cellspacing="0"><tbody><tr align="right"><td><img src="JMeter_files/c.gif" alt="" height="8" width="100%"><br><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td valign="middle"><img src="JMeter_files/u_bold.gif" alt="" border="0" height="16" width="16"><br></td><td align="right" valign="top"><a href="#main" class="fbox"><b>回页首</b></a></td></tr></tbody></table></td></tr></tbody></table><br><br></span></td><td width="10"><img alt="" src="JMeter_files/c.gif" height="1" width="10"></td></tr></tbody></table><span class="small">IBM 公司保留在 developerWorks 网站上发表的内容的著作权。未经IBM公司或原始作者的书面明确许可，请勿转载。如果您希望转载，请通过 <a href="https://www.ibm.com/developerworks/secure/reprintreq.jsp?domain=dwchina">提交转载请求表单</a> 联系我们的编辑团队。</span></td></tr></tbody></table><!--FOOTER_BEGIN--><!-- IBM FOOTER -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">

<tbody><tr>
<td class="bbg" height="19">
<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td><span class="spacer">&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="mainlink" href="http://www.ibm.com/cn/ibm/index.shtml">关于 IBM</a></td>
<td class="footer-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a class="mainlink" href="http://www.ibm.com/cn/ibm/privacy/index.shtml">隐私条约</a></td>
<td class="footer-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a class="mainlink" href="http://www.ibm.com/contact/cn/">联系 IBM</a></td>
<td class="footer-divider" width="27">&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a class="mainlink" href="http://www.ibm.com/legal/cn/zh/">使用条款</a></td>
</tr>
</tbody></table>
</td>
</tr>
</tbody></table>

<!-- end footer -->
<script type="text/javascript" language="JavaScript1.2" src="JMeter_files/stats.js"></script>
<noscript><img src="//stats.www.ibm.com/rc/images/uc.GIF?R=noscript" width="1" height="1" alt="" border="0" /></noscript><!--FOOTER_END--><!--XSLT stylesheet used to transform this file:  dw-document-html-5.10.xsl--></body></html>